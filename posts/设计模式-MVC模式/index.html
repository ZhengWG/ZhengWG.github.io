<!DOCTYPE html><html lang="zh-Hans" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="设计模式-MVC模式" /><meta property="og:locale" content="zh_Hans" /><meta name="description" content="概念解析 实例分析" /><meta property="og:description" content="概念解析 实例分析" /><link rel="canonical" href="https://www.johneyzheng.top//posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVC%E6%A8%A1%E5%BC%8F/" /><meta property="og:url" content="https://www.johneyzheng.top//posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVC%E6%A8%A1%E5%BC%8F/" /><meta property="og:site_name" content="Johney Zheng" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-02T20:10:50+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="设计模式-MVC模式" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"概念解析 实例分析","url":"https://www.johneyzheng.top//posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVC%E6%A8%A1%E5%BC%8F/","headline":"设计模式-MVC模式","dateModified":"2022-02-02T20:10:50+08:00","datePublished":"2022-02-02T20:10:50+08:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.johneyzheng.top//posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVC%E6%A8%A1%E5%BC%8F/"},"@context":"https://schema.org"}</script><title>设计模式-MVC模式 | Johney Zheng</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Johney Zheng"><meta name="application-name" content="Johney Zheng"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-364499169"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-364499169'); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Johney Zheng</a></div><div class="site-subtitle font-italic">Johney Zheng的小站</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/agents/" class="nav-link"> <i class="fa-fw fas fa-robot ml-xl-3 mr-xl-3 unloaded"></i> <span>AGENTS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ZhengWG" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['21625111','zju.edu.cn'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>设计模式-MVC模式</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>设计模式-MVC模式</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Johney Zheng </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 2, 2022, 8:10 PM +0800" prep="on" > Feb 2, 2022 <i class="unloaded">2022-02-02T20:10:50+08:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1192 words">6 min</span></div></div><div class="post-content"><ul><li><a href="#sec-1">概念解析</a><li><a href="#sec-2">实例分析</a></ul><h1 id="概念解析">概念解析<a id="sec-1"></a></h1><p>MVC模式为软件工程中的一种常用软件架构模式，但是并没有一个标准的定义，通常来将其将软件系统分为三个基本部分：模型（Model）、视图（View）和控制器（Controller）。</p><ul><li>M：负责数据存储<li>V：负责数据显示<li>C：负责与用户的交互逻辑。</ul><p>MVC模式类图如下：</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://cdn.jsdelivr.net/gh/ZhengWG/Imgs_blog//2022-02-02-%25E8%25AE%25BE%25E8%25AE%25A1%25E6%25A8%25A1%25E5%25BC%258F-MVC%25E6%25A8%25A1%25E5%25BC%258F/20220202_225946.png" alt="img" /></p><p>优点：</p><ul><li>低耦合性，软件分层，可以独立发展，方便团队合作，快速开发<li>高重用性和可适用性：适用于各类场景名，如Web端、移动端、桌面端等<li>快速开发、部署，现有很多现成框架都是基于MVC模式的</ul><p>应用场景：</p><ul><li>互联网场景应用广泛，如：前后端的分离，甚至前后端内部的各自分离<li>基于MVC的延伸扩展：MVP（Model-View-Presenter）模式，其中P为presenter，该模式下Model和View的所有交互都通过P角色来传递，解耦得更充分；MVVM（Model-View-ViewModel）模式，ViewModel指的是Model of View，其特点是通过“双向数据绑定”来实现View和Model数据同步“自动化”。</ul><h1 id="实例分析">实例分析<a id="sec-2"></a></h1><p>提供一个简单的例子：相机功能设计，数据存储由SD卡模块实现，数据可视化由显示器实现，机身实现整体相机功能的控制：</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">random</span>


<span class="k">class</span> <span class="nc">Camera</span><span class="p">():</span>
    <span class="s">"""相机机身"""</span>

    <span class="c1"># 相机基本参数
</span>    <span class="n">single_focus</span> <span class="o">=</span> <span class="s">"单点对焦"</span>
    <span class="n">area_focus</span> <span class="o">=</span> <span class="s">"区域对焦"</span>
    <span class="n">big_area_focus</span> <span class="o">=</span> <span class="s">"大区域对焦"</span>
    <span class="n">focus45</span>  <span class="o">=</span> <span class="s">"45点自动对焦"</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">sefl</span><span class="p">.</span><span class="n">__apertune</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># 光圈
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">__shutter_speed</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># 快门速度
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">__light_sensitivity</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># 感光度
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">__lens</span> <span class="o">=</span> <span class="n">Lens</span><span class="p">()</span>  <span class="c1"># 静态
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">__sd_card</span> <span class="o">=</span> <span class="n">SDCard</span><span class="p">()</span>  <span class="c1"># SD卡
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">__display</span> <span class="o">=</span> <span class="n">Display</span><span class="p">()</span>  <span class="c1"># 显示器
</span>
    <span class="k">def</span> <span class="nf">shooting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""拍照"""</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"[开始拍摄中"</span><span class="p">)</span>
        <span class="n">image_lighting</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">__lens</span><span class="p">.</span><span class="n">collecting</span><span class="p">()</span>
        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">__transfer_image</span><span class="p">(</span><span class="n">image_lighting</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__sd_card</span><span class="p">.</span><span class="n">add_image</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"拍摄完成]"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">view_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="s">"""查看图像"""</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"查看第%d张图像："</span> <span class="o">%</span> <span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">__sd_card</span><span class="p">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__display</span><span class="p">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__transfer_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_lighting</span><span class="p">):</span>
        <span class="s">"""将光线信号存储为数字信号：简单模拟"""</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"接收光线并处理成数字信号"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Image</span><span class="p">(</span><span class="mi">6000</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="n">image_lighting</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aperture</span><span class="p">,</span> <span class="n">shutter_speed</span><span class="p">,</span> <span class="n">light_sensitivity</span><span class="p">):</span>
        <span class="s">"""设置相机的拍摄属性：光圈、快门、感光度"""</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__aperture</span> <span class="o">=</span> <span class="n">aperture</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__shutter_speed</span> <span class="o">=</span> <span class="n">shutter_speed</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__light_sensitivity</span> <span class="o">=</span> <span class="n">light_sensitivity</span>

    <span class="k">def</span> <span class="nf">focusing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">focus_mode</span><span class="p">):</span>
        <span class="s">"""对焦:通过镜头组件实现"""</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__lens</span><span class="p">.</span><span class="n">set_focus</span><span class="p">(</span><span class="n">focus_mode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">show_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""显示相机属性"""</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"%s 的设置 光圈：F%0.1f 快门：1/%d 感光度：ISO %d"</span> <span class="o">%</span>
              <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">__name</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">__aperture</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">__shutter_speed</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">__light_sensitivity</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">Lens</span><span class="p">():</span>
    <span class="s">"""镜头"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__focus_mode</span> <span class="o">=</span> <span class="s">''</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__scenes</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">0</span><span class="p">:</span> <span class="s">'风光'</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">:</span> <span class="s">'生态'</span><span class="p">,</span>
            <span class="mi">2</span><span class="p">:</span> <span class="s">'人文'</span><span class="p">,</span>
            <span class="mi">3</span><span class="p">:</span> <span class="s">'纪实'</span><span class="p">,</span>
            <span class="mi">4</span><span class="p">:</span> <span class="s">'人像'</span><span class="p">,</span>
            <span class="mi">5</span><span class="p">:</span> <span class="s">'建筑'</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">set_focus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">focus_mode</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__focus_mode</span> <span class="o">=</span> <span class="n">focus_mode</span>

    <span class="k">def</span> <span class="nf">collect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""图像采集：随机模拟"""</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"采集光线：%s"</span> <span class="o">%</span> <span class="bp">self</span><span class="p">.</span><span class="n">__focus_mode</span><span class="p">)</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">__scenes</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">scene</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">__scenes</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">return</span> <span class="s">"美丽的"</span> <span class="o">+</span> <span class="n">scene</span> <span class="o">+</span> <span class="s">" 图像"</span>


<span class="k">class</span> <span class="nc">Display</span><span class="p">():</span>
    <span class="s">"""显示器"""</span>
    <span class="k">def</span> <span class="nf">show_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"图片大小: %d x %d 图片内容：%s"</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="p">.</span><span class="n">get_width</span><span class="p">(),</span> <span class="n">image</span><span class="p">.</span><span class="n">get_height</span><span class="p">(),</span> <span class="n">image</span><span class="p">.</span><span class="n">get_pix</span><span class="p">()))</span>


<span class="k">class</span> <span class="nc">SDCard</span><span class="p">():</span>
    <span class="s">"""SD存储卡"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__images</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">add_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"存储图像"</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__images</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">__images</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">__images</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>


<span class="k">class</span> <span class="nc">Image</span><span class="p">():</span>
    <span class="s">"""图像：字符串替代像素内容"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">pixels</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__pixels</span> <span class="o">=</span> <span class="n">pixels</span>

    <span class="k">def</span> <span class="nf">get_width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">__width</span>

    <span class="k">def</span> <span class="nf">get_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">__height</span>

    <span class="k">def</span> <span class="nf">get_pix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">__pixels</span>


<span class="k">def</span> <span class="nf">test_camera</span><span class="p">():</span>
    <span class="n">camera</span> <span class="o">=</span> <span class="n">Camera</span><span class="p">(</span><span class="s">"EOS 80D"</span><span class="p">)</span>
    <span class="n">camera</span><span class="p">.</span><span class="n">setting</span><span class="p">(</span><span class="mf">3.5</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">camera</span><span class="p">.</span><span class="n">show_info</span><span class="p">()</span>
    <span class="n">camera</span><span class="p">.</span><span class="n">focusing</span><span class="p">(</span><span class="n">Camera</span><span class="p">.</span><span class="n">big_area_focus</span><span class="p">)</span>
    <span class="n">camera</span><span class="p">.</span><span class="n">shooting</span><span class="p">()</span>

    <span class="n">camera</span><span class="p">.</span><span class="n">setting</span><span class="p">(</span><span class="mf">5.6</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">camera</span><span class="p">.</span><span class="n">show_info</span><span class="p">()</span>
    <span class="n">camera</span><span class="p">.</span><span class="n">focusing</span><span class="p">(</span><span class="n">Camera</span><span class="p">.</span><span class="n">focus45</span><span class="p">)</span>
    <span class="n">camera</span><span class="p">.</span><span class="n">shooting</span><span class="p">()</span>

    <span class="n">camera</span><span class="p">.</span><span class="n">view_image</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">camera</span><span class="p">.</span><span class="n">view_image</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="s">"""
    测试结果：
    EOS 80D的设置 光圈：F3.5 快门：1/60 感光度：ISO 200
    [开始拍摄中
    采集光线，大区域对焦
    接收光线并处理成数字信号
    存储图像
    拍摄完成
    ]

    EOS 80D的设置 光圈：F5.6 快门：1/720 感光度：ISO 100
    [开始拍摄中
    采集光线，45点自动对焦
    接收光线并处理成数字信号
    存储图像
    拍摄完成
    ]

    查看第1张图像：
    图片大小：6000 x 4000，图像内容：美丽的风光图像
    查看第2张图像：
    图片大小：6000 x 4000，图像内容：美丽的建筑图像
    """</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >Python</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="post-tag no-text-decoration" >设计模式</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=设计模式-MVC模式 - Johney Zheng&url=https://www.johneyzheng.top//posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVC%E6%A8%A1%E5%BC%8F/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=设计模式-MVC模式 - Johney Zheng&u=https://www.johneyzheng.top//posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVC%E6%A8%A1%E5%BC%8F/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=设计模式-MVC模式 - Johney Zheng&url=https://www.johneyzheng.top//posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVC%E6%A8%A1%E5%BC%8F/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>最近更新</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Blog-Agents%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/">Blog Agents功能介绍</a><li><a href="/posts/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86%E6%8A%80%E6%9C%AF%E6%A0%88/">大模型推理技术栈</a><li><a href="/posts/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2%E6%8A%80%E6%9C%AF%E6%A6%82%E8%A7%88/">模型部署技术概览</a><li><a href="/posts/FlashAttention%E7%B3%BB%E5%88%97%E4%BC%98%E5%8C%96/">FlashAttention系列优化</a><li><a href="/posts/Win10_Ubuntu_installation/">双系统安装(WIN10+Ubuntu16)</a></ul></div><div id="access-tags"> <span>热门标签</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a> <a class="post-tag" href="/tags/cv/">CV</a> <a class="post-tag" href="/tags/llms/">LLMs</a> <a class="post-tag" href="/tags/%E7%BB%BC%E8%BF%B0/">综述</a> <a class="post-tag" href="/tags/3d/">3D</a> <a class="post-tag" href="/tags/paper-reading/">Paper_Reading</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/kaggle/">Kaggle</a> <a class="post-tag" href="/tags/ubuntu/">Ubuntu</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>接下来阅读</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/"><div class="card-body"> <span class="timeago small" > Oct 6, 2021 <i class="unloaded">2021-10-06T15:48:50+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>设计模式-状态模式</h3><div class="text-muted small"><p> 概念解析 设计模板 实例分析 概念解析 所谓 状态模式 ：允许一个对象在其内部发生改变时改变其行为，使这个对象看上去就像改变了它的类型一样。其适用于的场景： 对象行为取决于其状态，且对象的状态是可变的 存在很多对象场景，本身都符合1. 场景，分散为很多多分支逻辑代码 状态模式的核心是设计：控制状态切换的上下文环境类，和描述状态的状态类（管理影响状态变化的各...</p></div></div></a></div><div class="card"> <a href="/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%9B%91%E5%90%AC%E6%A8%A1%E5%BC%8F/"><div class="card-body"> <span class="timeago small" > Oct 6, 2021 <i class="unloaded">2021-10-06T15:50:57+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>设计模式-监听模式</h3><div class="text-muted small"><p> 概念解析 设计模板 实例分析 概念解析 监听模式（观察者模式），核心是设计监听者和被观察者，当被观察者对象在状态或者内容数据发生变化时，能够通知所有的监听者对象（被动/主动）相应的变化，然后监听者对象能够做出相应的反应。其本身属于“一对多”的关系，也有很多名称：“发布/订阅模式”、“模型/视图模式”、“源/监听器模式”等。监听者模式的类图如下： 上图中， Subject...</p></div></div></a></div><div class="card"> <a href="/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93-Python/"><div class="card-body"> <span class="timeago small" > Oct 6, 2021 <i class="unloaded">2021-10-06T16:16:22+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>设计模式总结（Python）</h3><div class="text-muted small"><p> 前言 UML介绍 监听模式 状态模式 中介模式 装饰模式 单例模式 克隆模式 职责模式 代理模式 外观模式 迭代模式 组合模式 构建模式 适配模式 策略模式 工厂模式 命令模式 备忘模式 享元模式 访问模式 模板模式 桥接模式 解释模式 过滤器模式 对象池技术 回调机制 MVC模...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%9B%9E%E8%B0%83%E6%9C%BA%E5%88%B6/" class="btn btn-outline-primary" prompt="较早文章"><p>设计模式-回调机制</p></a> <a href="/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/" class="btn btn-outline-primary" prompt="较新文章"><p>设计模式-设计原则</p></a></div><div id="comments"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script> <script src='//unpkg.com/valine/dist/Valine.min.js'></script> <script> new Valine({ el: '#comments', app_id: 'IJm2s0GdkzhEOLwVfClrHeWs-gzGzoHsz', app_key: 'Y281bajarkkIGs8p4WmrTkNi', placeholder: '请在下面评论：', visitor: true }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://github.com/username">Johney Zheng</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，否则本网站上的博客文章均由作者根据知识共享许可协议 - 署名标示 4.0（CC BY 4.0）进行授权许可。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">热门标签</h4><a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a> <a class="post-tag" href="/tags/cv/">CV</a> <a class="post-tag" href="/tags/llms/">LLMs</a> <a class="post-tag" href="/tags/%E7%BB%BC%E8%BF%B0/">综述</a> <a class="post-tag" href="/tags/3d/">3D</a> <a class="post-tag" href="/tags/paper-reading/">Paper_Reading</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/kaggle/">Kaggle</a> <a class="post-tag" href="/tags/ubuntu/">Ubuntu</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.johneyzheng.top/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
